import random

import requests


def sheldon_has_null(sheldon, eingabe):
    winner = False
    if sheldon == 0:
        if eingabe == 0:
            print("Unentschieden")
            print("Bazinga!")
        if eingabe == 1:
            print("Du hast gegen Dr.Cooper gewonnen. Kann nicht jeder behaupten.")
            winner = True
        if eingabe == 3:
            print("Schere köpft Echse!")
            print("Bazinga!")
        if eingabe == 4:
            print("Besser als Howards Mum")
        if eingabe == 2:
            print("Schere schneidet Papier!")
    return winner


def sheldon_has_one(sheldon, eingabe):
    winner = False
    if sheldon == 1:
        if eingabe == 1:
            print("Unentschieden")
            print("Bazinga!")
        if eingabe == 3:
            print("Stein zerquetscht Echse!")
            print("Bazinga!")
        if eingabe == 2:
            print("Zufall")
            winner = True
        if eingabe == 4:
            print("Du hast gegen Dr.Cooper gewonnen. Kann nicht jeder behaupten.")
            winner = True
    return winner


def sheldon_has_two(sheldon, eingabe):
    winner = False
    if sheldon == 2:
        if eingabe == 2:
            print("Unentschieden")
            print("Bazinga!")
        if eingabe == 0:
            print("Glück gehabt")
            winner = True
        if eingabe == 4:
            print("Papier widerlegt Spock!")
            print("Bazinga!")
        if eingabe == 3:
            print("Du spielst besser als Penny")
            winner = True
    return winner


def sheldon_has_three(sheldon, eingabe):
    winner=False
    if sheldon == 3:
        if eingabe == 3:
            print("Unentschieden")
            print("Bazinga!")
        if eingabe == 1:
            print("Du spielst besser als Wollowitz")
            winner=True
        if eingabe == 2:
            print("Echse frißt Papier!")
            print("Bazinga!")
        if eingabe == 0:
            print("Gut gemacht!")
            winner =True
        if eingabe == 4:
            print("Echse vergiftet Spock!")
            print("Bazinga!")
    return winner


def sheldon_has_four(sheldon, eingabe):
    winner=False
    if sheldon == 4:
        if eingabe == 4:
            print("Unentschieden")
            print("Bazinga!")
        if eingabe == 3:
            print("Besser als Leslie Winkle")
            winner=True
        if eingabe == 2:
            print("Zufallstreffer")
            winner=True
        if eingabe == 1:
            print("Spock verdampft Stein!")
            print("Bazinga!")
        if eingabe == 0:
            print("Spock zertrümmert Schere!")
            print("Bazinga!")
    return winner

def saving(winner, symbol):
    response = requests.post(
        # TODO: /route von Route von der FlaskAPI
        "http://127.0.0.1:8888/add",

        json={
            "winner": winner,
            "symbol": symbol,

        }
    )
    print(response)
def winn(sheldon, eingabe):
    return sheldon_has_null(sheldon, eingabe) or \
        sheldon_has_one(sheldon, eingabe) or\
        sheldon_has_two(sheldon, eingabe) or \
        sheldon_has_three(sheldon, eingabe) or sheldon_has_four(sheldon, eingabe)
def getSymbol(eingabe):
    if eingabe == 0:
        return "Schere"
    elif eingabe==1:
        return"Stein"
    elif eingabe==2:
        return "Papier"
    elif eingabe==3:
        return "Echse"
    elif eingabe==4:
        return "Spock"


if __name__ == "__main__":

    print("Willkommen bei Schere, Stein, Papier, Echse, Spock")
    bedingung = True
    while bedingung:
        print("Wähle 0 für Schere, 1 für Stein, 2 für Papier, 3 für Echse, 4 für Spock")

        eingabe = int(input("Deine Zahl lautet:"))
        zz = [0, 1, 2, 3, 4]

        if eingabe in zz:
            random.shuffle(zz)
            sheldon = zz[0]

            print("Sheldon :" + str(sheldon))
            win = winn(sheldon, eingabe)
            if win == True:
                saving("Spieler", getSymbol(eingabe))
            else:
                saving("Sheldon", getSymbol(sheldon))
        bedingung = input("Drücken Sie y wenn Sie nochmal spielen wollen") == ("y")
